<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
	  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	  th:with="title='Пользователи'">

<head th:replace="fragments/header::commonHeader(_)"/>

<body>
	<h3>[[${title}]]</h3>
    <table>
        <thead>
            <tr>
            	<th>Имя</th>
            	<th>Фамилия</th>
                <th>Email</th>
                <th>Активен</th>
                <th>Уровень доступа</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user: ${users}">
                <td th:text="${user.firstName}"/>
                <td th:text="${user.lastName}"/>
                <td th:text="${user.email}"/>
                <td th:text="${user.active}"/>
                <td><span th:each="accessLevel, iterStat: ${user.accessLevels}" th:text="${!iterStat.last} ? ${accessLevel} + ', ' : ${accessLevel}"></span></td>
                <td><a th:href="@{'/user/' + ${user.id}}">ред.</a></td>
            </tr>
        </tbody>
    </table>
</body>

</html>